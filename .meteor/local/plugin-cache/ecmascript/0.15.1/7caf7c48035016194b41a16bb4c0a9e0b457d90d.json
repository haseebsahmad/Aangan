{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"C:\\Users\\Haseeb\\Desktop\\Aangan-main\\Aangan-main\\packages\\ostrio:files\\cursor.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.cordova"},"sourceFileName":"packages/ostrio:files/cursor.js","filename":"C:\\Users\\Haseeb\\Desktop\\Aangan-main\\Aangan-main\\packages\\ostrio:files\\cursor.js","targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"C:\\Users\\Haseeb\\Desktop\\Aangan-main\\Aangan-main","root":"C:\\Users\\Haseeb\\Desktop\\Aangan-main\\Aangan-main","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.13.10","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":{},"_verified":{},"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"C:\\Users\\Haseeb\\Desktop\\Aangan-main\\Aangan-main\\packages\\ostrio:files\\cursor.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"packages/ostrio:files/cursor.js"}},"code":"module.export({\n  FileCursor: function () {\n    return FileCursor;\n  },\n  FilesCursor: function () {\n    return FilesCursor;\n  }\n});\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\n\nvar FileCursor = /*#__PURE__*/function () {\n  function FileCursor(_fileRef, _collection) {\n    this._fileRef = _fileRef;\n    this._collection = _collection;\n    Object.assign(this, _fileRef);\n  }\n  /*\n   * @locus Anywhere\n   * @memberOf FileCursor\n   * @name remove\n   * @param callback {Function} - Triggered asynchronously after item is removed or failed to be removed\n   * @summary Remove document\n   * @returns {FileCursor}\n   */\n\n\n  var _proto = FileCursor.prototype;\n\n  _proto.remove = function () {\n    function remove(callback) {\n      this._collection._debug('[FilesCollection] [FileCursor] [remove()]');\n\n      if (this._fileRef) {\n        this._collection.remove(this._fileRef._id, callback);\n      } else {\n        callback && callback(new Meteor.Error(404, 'No such file'));\n      }\n\n      return this;\n    }\n\n    return remove;\n  }()\n  /*\n   * @locus Anywhere\n   * @memberOf FileCursor\n   * @name link\n   * @param version {String} - Name of file's subversion\n   * @param URIBase {String} - [Optional] URI base, see - https://github.com/VeliovGroup/Meteor-Files/issues/626\n   * @summary Returns downloadable URL to File\n   * @returns {String}\n   */\n  ;\n\n  _proto.link = function () {\n    function link() {\n      var version = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'original';\n      var URIBase = arguments.length > 1 ? arguments[1] : undefined;\n\n      this._collection._debug(\"[FilesCollection] [FileCursor] [link(\" + version + \")]\");\n\n      if (this._fileRef) {\n        return this._collection.link(this._fileRef, version, URIBase);\n      }\n\n      return '';\n    }\n\n    return link;\n  }()\n  /*\n   * @locus Anywhere\n   * @memberOf FileCursor\n   * @name get\n   * @param property {String} - Name of sub-object property\n   * @summary Returns current document as a plain Object, if `property` is specified - returns value of sub-object property\n   * @returns {Object|mix}\n   */\n  ;\n\n  _proto.get = function () {\n    function get(property) {\n      this._collection._debug(\"[FilesCollection] [FileCursor] [get(\" + property + \")]\");\n\n      if (property) {\n        return this._fileRef[property];\n      }\n\n      return this._fileRef;\n    }\n\n    return get;\n  }()\n  /*\n   * @locus Anywhere\n   * @memberOf FileCursor\n   * @name fetch\n   * @summary Returns document as plain Object in Array\n   * @returns {[Object]}\n   */\n  ;\n\n  _proto.fetch = function () {\n    function fetch() {\n      this._collection._debug('[FilesCollection] [FileCursor] [fetch()]');\n\n      return [this._fileRef];\n    }\n\n    return fetch;\n  }()\n  /*\n   * @locus Anywhere\n   * @memberOf FileCursor\n   * @name with\n   * @summary Returns reactive version of current FileCursor, useful to use with `{{#with}}...{{/with}}` block template helper\n   * @returns {[Object]}\n   */\n  ;\n\n  _proto.with = function () {\n    function _with() {\n      this._collection._debug('[FilesCollection] [FileCursor] [with()]');\n\n      return Object.assign(this, this._collection.collection.findOne(this._fileRef._id));\n    }\n\n    return _with;\n  }();\n\n  return FileCursor;\n}();\n\nvar FilesCursor = /*#__PURE__*/function () {\n  function FilesCursor() {\n    var _selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var options = arguments.length > 1 ? arguments[1] : undefined;\n\n    var _collection = arguments.length > 2 ? arguments[2] : undefined;\n\n    this._collection = _collection;\n    this._selector = _selector;\n    this._current = -1;\n    this.cursor = this._collection.collection.find(this._selector, options);\n  }\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name get\n   * @summary Returns all matching document(s) as an Array. Alias of `.fetch()`\n   * @returns {[Object]}\n   */\n\n\n  var _proto2 = FilesCursor.prototype;\n\n  _proto2.get = function () {\n    function get() {\n      this._collection._debug('[FilesCollection] [FilesCursor] [get()]');\n\n      return this.cursor.fetch();\n    }\n\n    return get;\n  }()\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name hasNext\n   * @summary Returns `true` if there is next item available on Cursor\n   * @returns {Boolean}\n   */\n  ;\n\n  _proto2.hasNext = function () {\n    function hasNext() {\n      this._collection._debug('[FilesCollection] [FilesCursor] [hasNext()]');\n\n      return this._current < this.cursor.count() - 1;\n    }\n\n    return hasNext;\n  }()\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name next\n   * @summary Returns next item on Cursor, if available\n   * @returns {Object|undefined}\n   */\n  ;\n\n  _proto2.next = function () {\n    function next() {\n      this._collection._debug('[FilesCollection] [FilesCursor] [next()]');\n\n      this.cursor.fetch()[++this._current];\n    }\n\n    return next;\n  }()\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name hasPrevious\n   * @summary Returns `true` if there is previous item available on Cursor\n   * @returns {Boolean}\n   */\n  ;\n\n  _proto2.hasPrevious = function () {\n    function hasPrevious() {\n      this._collection._debug('[FilesCollection] [FilesCursor] [hasPrevious()]');\n\n      return this._current !== -1;\n    }\n\n    return hasPrevious;\n  }()\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name previous\n   * @summary Returns previous item on Cursor, if available\n   * @returns {Object|undefined}\n   */\n  ;\n\n  _proto2.previous = function () {\n    function previous() {\n      this._collection._debug('[FilesCollection] [FilesCursor] [previous()]');\n\n      this.cursor.fetch()[--this._current];\n    }\n\n    return previous;\n  }()\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name fetch\n   * @summary Returns all matching document(s) as an Array.\n   * @returns {[Object]}\n   */\n  ;\n\n  _proto2.fetch = function () {\n    function fetch() {\n      this._collection._debug('[FilesCollection] [FilesCursor] [fetch()]');\n\n      return this.cursor.fetch() || [];\n    }\n\n    return fetch;\n  }()\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name first\n   * @summary Returns first item on Cursor, if available\n   * @returns {Object|undefined}\n   */\n  ;\n\n  _proto2.first = function () {\n    function first() {\n      this._collection._debug('[FilesCollection] [FilesCursor] [first()]');\n\n      this._current = 0;\n      return this.fetch()[this._current];\n    }\n\n    return first;\n  }()\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name last\n   * @summary Returns last item on Cursor, if available\n   * @returns {Object|undefined}\n   */\n  ;\n\n  _proto2.last = function () {\n    function last() {\n      this._collection._debug('[FilesCollection] [FilesCursor] [last()]');\n\n      this._current = this.count() - 1;\n      return this.fetch()[this._current];\n    }\n\n    return last;\n  }()\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name count\n   * @summary Returns the number of documents that match a query\n   * @returns {Number}\n   */\n  ;\n\n  _proto2.count = function () {\n    function count() {\n      this._collection._debug('[FilesCollection] [FilesCursor] [count()]');\n\n      return this.cursor.count();\n    }\n\n    return count;\n  }()\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name remove\n   * @param callback {Function} - Triggered asynchronously after item is removed or failed to be removed\n   * @summary Removes all documents that match a query\n   * @returns {FilesCursor}\n   */\n  ;\n\n  _proto2.remove = function () {\n    function remove(callback) {\n      this._collection._debug('[FilesCollection] [FilesCursor] [remove()]');\n\n      this._collection.remove(this._selector, callback);\n\n      return this;\n    }\n\n    return remove;\n  }()\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name forEach\n   * @param callback {Function} - Function to call. It will be called with three arguments: the `file`, a 0-based index, and cursor itself\n   * @param context {Object} - An object which will be the value of `this` inside `callback`\n   * @summary Call `callback` once for each matching document, sequentially and synchronously.\n   * @returns {undefined}\n   */\n  ;\n\n  _proto2.forEach = function () {\n    function forEach(callback) {\n      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      this._collection._debug('[FilesCollection] [FilesCursor] [forEach()]');\n\n      this.cursor.forEach(callback, context);\n    }\n\n    return forEach;\n  }()\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name each\n   * @summary Returns an Array of FileCursor made for each document on current cursor\n   *          Useful when using in {{#each FilesCursor#each}}...{{/each}} block template helper\n   * @returns {[FileCursor]}\n   */\n  ;\n\n  _proto2.each = function () {\n    function each() {\n      var _this = this;\n\n      return this.map(function (file) {\n        return new FileCursor(file, _this._collection);\n      });\n    }\n\n    return each;\n  }()\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name map\n   * @param callback {Function} - Function to call. It will be called with three arguments: the `file`, a 0-based index, and cursor itself\n   * @param context {Object} - An object which will be the value of `this` inside `callback`\n   * @summary Map `callback` over all matching documents. Returns an Array.\n   * @returns {Array}\n   */\n  ;\n\n  _proto2.map = function () {\n    function map(callback) {\n      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      this._collection._debug('[FilesCollection] [FilesCursor] [map()]');\n\n      return this.cursor.map(callback, context);\n    }\n\n    return map;\n  }()\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name current\n   * @summary Returns current item on Cursor, if available\n   * @returns {Object|undefined}\n   */\n  ;\n\n  _proto2.current = function () {\n    function current() {\n      this._collection._debug('[FilesCollection] [FilesCursor] [current()]');\n\n      if (this._current < 0) {\n        this._current = 0;\n      }\n\n      return this.fetch()[this._current];\n    }\n\n    return current;\n  }()\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name observe\n   * @param callbacks {Object} - Functions to call to deliver the result set as it changes\n   * @summary Watch a query. Receive callbacks as the result set changes.\n   * @url http://docs.meteor.com/api/collections.html#Mongo-Cursor-observe\n   * @returns {Object} - live query handle\n   */\n  ;\n\n  _proto2.observe = function () {\n    function observe(callbacks) {\n      this._collection._debug('[FilesCollection] [FilesCursor] [observe()]');\n\n      return this.cursor.observe(callbacks);\n    }\n\n    return observe;\n  }()\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name observeChanges\n   * @param callbacks {Object} - Functions to call to deliver the result set as it changes\n   * @summary Watch a query. Receive callbacks as the result set changes. Only the differences between the old and new documents are passed to the callbacks.\n   * @url http://docs.meteor.com/api/collections.html#Mongo-Cursor-observeChanges\n   * @returns {Object} - live query handle\n   */\n  ;\n\n  _proto2.observeChanges = function () {\n    function observeChanges(callbacks) {\n      this._collection._debug('[FilesCollection] [FilesCursor] [observeChanges()]');\n\n      return this.cursor.observeChanges(callbacks);\n    }\n\n    return observeChanges;\n  }();\n\n  return FilesCursor;\n}();","map":{"version":3,"sources":["packages/ostrio:files/cursor.js"],"names":["module","export","FileCursor","FilesCursor","Meteor","link","v","_fileRef","_collection","Object","assign","remove","callback","_debug","_id","Error","version","URIBase","get","property","fetch","with","collection","findOne","_selector","options","_current","cursor","find","hasNext","count","next","hasPrevious","previous","first","last","forEach","context","each","map","file","current","observe","callbacks","observeChanges"],"mappings":"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","sourcesContent":["import { Meteor } from 'meteor/meteor';\n\n/*\n * @private\n * @locus Anywhere\n * @class FileCursor\n * @param _fileRef    {Object} - Mongo-Style selector (http://docs.meteor.com/api/collections.html#selectors)\n * @param _collection {FilesCollection} - FilesCollection Instance\n * @summary Internal class, represents each record in `FilesCursor.each()` or document returned from `.findOne()` method\n */\nexport class FileCursor {\n  constructor(_fileRef, _collection) {\n    this._fileRef    = _fileRef;\n    this._collection = _collection;\n    Object.assign(this, _fileRef);\n  }\n\n  /*\n   * @locus Anywhere\n   * @memberOf FileCursor\n   * @name remove\n   * @param callback {Function} - Triggered asynchronously after item is removed or failed to be removed\n   * @summary Remove document\n   * @returns {FileCursor}\n   */\n  remove(callback) {\n    this._collection._debug('[FilesCollection] [FileCursor] [remove()]');\n    if (this._fileRef) {\n      this._collection.remove(this._fileRef._id, callback);\n    } else {\n      callback && callback(new Meteor.Error(404, 'No such file'));\n    }\n    return this;\n  }\n\n  /*\n   * @locus Anywhere\n   * @memberOf FileCursor\n   * @name link\n   * @param version {String} - Name of file's subversion\n   * @param URIBase {String} - [Optional] URI base, see - https://github.com/VeliovGroup/Meteor-Files/issues/626\n   * @summary Returns downloadable URL to File\n   * @returns {String}\n   */\n  link(version = 'original', URIBase) {\n    this._collection._debug(`[FilesCollection] [FileCursor] [link(${version})]`);\n    if (this._fileRef) {\n      return this._collection.link(this._fileRef, version, URIBase);\n    }\n    return '';\n  }\n\n  /*\n   * @locus Anywhere\n   * @memberOf FileCursor\n   * @name get\n   * @param property {String} - Name of sub-object property\n   * @summary Returns current document as a plain Object, if `property` is specified - returns value of sub-object property\n   * @returns {Object|mix}\n   */\n  get(property) {\n    this._collection._debug(`[FilesCollection] [FileCursor] [get(${property})]`);\n    if (property) {\n      return this._fileRef[property];\n    }\n    return this._fileRef;\n  }\n\n  /*\n   * @locus Anywhere\n   * @memberOf FileCursor\n   * @name fetch\n   * @summary Returns document as plain Object in Array\n   * @returns {[Object]}\n   */\n  fetch() {\n    this._collection._debug('[FilesCollection] [FileCursor] [fetch()]');\n    return [this._fileRef];\n  }\n\n  /*\n   * @locus Anywhere\n   * @memberOf FileCursor\n   * @name with\n   * @summary Returns reactive version of current FileCursor, useful to use with `{{#with}}...{{/with}}` block template helper\n   * @returns {[Object]}\n   */\n  with() {\n    this._collection._debug('[FilesCollection] [FileCursor] [with()]');\n    return Object.assign(this, this._collection.collection.findOne(this._fileRef._id));\n  }\n}\n\n/*\n * @private\n * @locus Anywhere\n * @class FilesCursor\n * @param _selector   {String|Object}   - Mongo-Style selector (http://docs.meteor.com/api/collections.html#selectors)\n * @param options     {Object}          - Mongo-Style selector Options (http://docs.meteor.com/api/collections.html#selectors)\n * @param _collection {FilesCollection} - FilesCollection Instance\n * @summary Implementation of Cursor for FilesCollection\n */\nexport class FilesCursor {\n  constructor(_selector = {}, options, _collection) {\n    this._collection = _collection;\n    this._selector   = _selector;\n    this._current    = -1;\n    this.cursor      = this._collection.collection.find(this._selector, options);\n  }\n\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name get\n   * @summary Returns all matching document(s) as an Array. Alias of `.fetch()`\n   * @returns {[Object]}\n   */\n  get() {\n    this._collection._debug('[FilesCollection] [FilesCursor] [get()]');\n    return this.cursor.fetch();\n  }\n\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name hasNext\n   * @summary Returns `true` if there is next item available on Cursor\n   * @returns {Boolean}\n   */\n  hasNext() {\n    this._collection._debug('[FilesCollection] [FilesCursor] [hasNext()]');\n    return this._current < (this.cursor.count() - 1);\n  }\n\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name next\n   * @summary Returns next item on Cursor, if available\n   * @returns {Object|undefined}\n   */\n  next() {\n    this._collection._debug('[FilesCollection] [FilesCursor] [next()]');\n    this.cursor.fetch()[++this._current];\n  }\n\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name hasPrevious\n   * @summary Returns `true` if there is previous item available on Cursor\n   * @returns {Boolean}\n   */\n  hasPrevious() {\n    this._collection._debug('[FilesCollection] [FilesCursor] [hasPrevious()]');\n    return this._current !== -1;\n  }\n\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name previous\n   * @summary Returns previous item on Cursor, if available\n   * @returns {Object|undefined}\n   */\n  previous() {\n    this._collection._debug('[FilesCollection] [FilesCursor] [previous()]');\n    this.cursor.fetch()[--this._current];\n  }\n\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name fetch\n   * @summary Returns all matching document(s) as an Array.\n   * @returns {[Object]}\n   */\n  fetch() {\n    this._collection._debug('[FilesCollection] [FilesCursor] [fetch()]');\n    return this.cursor.fetch() || [];\n  }\n\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name first\n   * @summary Returns first item on Cursor, if available\n   * @returns {Object|undefined}\n   */\n  first() {\n    this._collection._debug('[FilesCollection] [FilesCursor] [first()]');\n    this._current = 0;\n    return this.fetch()[this._current];\n  }\n\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name last\n   * @summary Returns last item on Cursor, if available\n   * @returns {Object|undefined}\n   */\n  last() {\n    this._collection._debug('[FilesCollection] [FilesCursor] [last()]');\n    this._current = this.count() - 1;\n    return this.fetch()[this._current];\n  }\n\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name count\n   * @summary Returns the number of documents that match a query\n   * @returns {Number}\n   */\n  count() {\n    this._collection._debug('[FilesCollection] [FilesCursor] [count()]');\n    return this.cursor.count();\n  }\n\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name remove\n   * @param callback {Function} - Triggered asynchronously after item is removed or failed to be removed\n   * @summary Removes all documents that match a query\n   * @returns {FilesCursor}\n   */\n  remove(callback) {\n    this._collection._debug('[FilesCollection] [FilesCursor] [remove()]');\n    this._collection.remove(this._selector, callback);\n    return this;\n  }\n\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name forEach\n   * @param callback {Function} - Function to call. It will be called with three arguments: the `file`, a 0-based index, and cursor itself\n   * @param context {Object} - An object which will be the value of `this` inside `callback`\n   * @summary Call `callback` once for each matching document, sequentially and synchronously.\n   * @returns {undefined}\n   */\n  forEach(callback, context = {}) {\n    this._collection._debug('[FilesCollection] [FilesCursor] [forEach()]');\n    this.cursor.forEach(callback, context);\n  }\n\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name each\n   * @summary Returns an Array of FileCursor made for each document on current cursor\n   *          Useful when using in {{#each FilesCursor#each}}...{{/each}} block template helper\n   * @returns {[FileCursor]}\n   */\n  each() {\n    return this.map((file) => {\n      return new FileCursor(file, this._collection);\n    });\n  }\n\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name map\n   * @param callback {Function} - Function to call. It will be called with three arguments: the `file`, a 0-based index, and cursor itself\n   * @param context {Object} - An object which will be the value of `this` inside `callback`\n   * @summary Map `callback` over all matching documents. Returns an Array.\n   * @returns {Array}\n   */\n  map(callback, context = {}) {\n    this._collection._debug('[FilesCollection] [FilesCursor] [map()]');\n    return this.cursor.map(callback, context);\n  }\n\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name current\n   * @summary Returns current item on Cursor, if available\n   * @returns {Object|undefined}\n   */\n  current() {\n    this._collection._debug('[FilesCollection] [FilesCursor] [current()]');\n    if (this._current < 0) {\n      this._current = 0;\n    }\n    return this.fetch()[this._current];\n  }\n\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name observe\n   * @param callbacks {Object} - Functions to call to deliver the result set as it changes\n   * @summary Watch a query. Receive callbacks as the result set changes.\n   * @url http://docs.meteor.com/api/collections.html#Mongo-Cursor-observe\n   * @returns {Object} - live query handle\n   */\n  observe(callbacks) {\n    this._collection._debug('[FilesCollection] [FilesCursor] [observe()]');\n    return this.cursor.observe(callbacks);\n  }\n\n  /*\n   * @locus Anywhere\n   * @memberOf FilesCursor\n   * @name observeChanges\n   * @param callbacks {Object} - Functions to call to deliver the result set as it changes\n   * @summary Watch a query. Receive callbacks as the result set changes. Only the differences between the old and new documents are passed to the callbacks.\n   * @url http://docs.meteor.com/api/collections.html#Mongo-Cursor-observeChanges\n   * @returns {Object} - live query handle\n   */\n  observeChanges(callbacks) {\n    this._collection._debug('[FilesCollection] [FilesCursor] [observeChanges()]');\n    return this.cursor.observeChanges(callbacks);\n  }\n}\n"]},"sourceType":"module","hash":"7caf7c48035016194b41a16bb4c0a9e0b457d90d"}
