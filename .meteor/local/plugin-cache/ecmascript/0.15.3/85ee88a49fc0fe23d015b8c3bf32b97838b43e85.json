{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"C:\\Users\\Haseeb\\Desktop\\firstReact\\myapp\\packages\\ostrio:files\\lib.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"packages/ostrio:files/lib.js","filename":"C:\\Users\\Haseeb\\Desktop\\firstReact\\myapp\\packages\\ostrio:files\\lib.js","targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"C:\\Users\\Haseeb\\Desktop\\firstReact\\myapp","root":"C:\\Users\\Haseeb\\Desktop\\firstReact\\myapp","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.15.3","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}}],"presets":[],"generatorOpts":{"filename":"C:\\Users\\Haseeb\\Desktop\\firstReact\\myapp\\packages\\ostrio:files\\lib.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"packages/ostrio:files/lib.js"}},"code":"module.export({\n  fixJSONParse: () => fixJSONParse,\n  fixJSONStringify: () => fixJSONStringify,\n  formatFleURL: () => formatFleURL,\n  helpers: () => helpers\n});\nlet check;\nmodule.link(\"meteor/check\", {\n  check(v) {\n    check = v;\n  }\n\n}, 0);\nconst helpers = {\n  isUndefined(obj) {\n    return obj === void 0;\n  },\n\n  isObject(obj) {\n    if (this.isArray(obj) || this.isFunction(obj)) {\n      return false;\n    }\n\n    return obj === Object(obj);\n  },\n\n  isArray(obj) {\n    return Array.isArray(obj);\n  },\n\n  isBoolean(obj) {\n    return obj === true || obj === false || Object.prototype.toString.call(obj) === '[object Boolean]';\n  },\n\n  isFunction(obj) {\n    return typeof obj === 'function' || false;\n  },\n\n  isEmpty(obj) {\n    if (this.isDate(obj)) {\n      return false;\n    }\n\n    if (this.isObject(obj)) {\n      return !Object.keys(obj).length;\n    }\n\n    if (this.isArray(obj) || this.isString(obj)) {\n      return !obj.length;\n    }\n\n    return false;\n  },\n\n  clone(obj) {\n    if (!this.isObject(obj)) return obj;\n    return this.isArray(obj) ? obj.slice() : Object.assign({}, obj);\n  },\n\n  has(_obj, path) {\n    let obj = _obj;\n\n    if (!this.isObject(obj)) {\n      return false;\n    }\n\n    if (!this.isArray(path)) {\n      return this.isObject(obj) && Object.prototype.hasOwnProperty.call(obj, path);\n    }\n\n    const length = path.length;\n\n    for (let i = 0; i < length; i++) {\n      if (!Object.prototype.hasOwnProperty.call(obj, path[i])) {\n        return false;\n      }\n\n      obj = obj[path[i]];\n    }\n\n    return !!length;\n  },\n\n  omit(obj) {\n    const clear = Object.assign({}, obj);\n\n    for (var _len = arguments.length, keys = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      keys[_key - 1] = arguments[_key];\n    }\n\n    for (let i = keys.length - 1; i >= 0; i--) {\n      delete clear[keys[i]];\n    }\n\n    return clear;\n  },\n\n  now: Date.now,\n\n  throttle(func, wait) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let previous = 0;\n    let timeout = null;\n    let result;\n    const that = this;\n    let self;\n    let args;\n\n    const later = () => {\n      previous = options.leading === false ? 0 : that.now();\n      timeout = null;\n      result = func.apply(self, args);\n\n      if (!timeout) {\n        self = args = null;\n      }\n    };\n\n    const throttled = function () {\n      const now = that.now();\n      if (!previous && options.leading === false) previous = now;\n      const remaining = wait - (now - previous);\n      self = this;\n      args = arguments;\n\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n\n        previous = now;\n        result = func.apply(self, args);\n\n        if (!timeout) {\n          self = args = null;\n        }\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n\n      return result;\n    };\n\n    throttled.cancel = () => {\n      clearTimeout(timeout);\n      previous = 0;\n      timeout = self = args = null;\n    };\n\n    return throttled;\n  }\n\n};\nconst _helpers = ['String', 'Number', 'Date'];\n\nfor (let i = 0; i < _helpers.length; i++) {\n  helpers['is' + _helpers[i]] = function (obj) {\n    return Object.prototype.toString.call(obj) === '[object ' + _helpers[i] + ']';\n  };\n}\n/*\n * @const {Function} fixJSONParse - Fix issue with Date parse\n */\n\n\nconst fixJSONParse = function (obj) {\n  for (let key in obj) {\n    if (helpers.isString(obj[key]) && obj[key].includes('=--JSON-DATE--=')) {\n      obj[key] = obj[key].replace('=--JSON-DATE--=', '');\n      obj[key] = new Date(parseInt(obj[key]));\n    } else if (helpers.isObject(obj[key])) {\n      obj[key] = fixJSONParse(obj[key]);\n    } else if (helpers.isArray(obj[key])) {\n      let v;\n\n      for (let i = 0; i < obj[key].length; i++) {\n        v = obj[key][i];\n\n        if (helpers.isObject(v)) {\n          obj[key][i] = fixJSONParse(v);\n        } else if (helpers.isString(v) && v.includes('=--JSON-DATE--=')) {\n          v = v.replace('=--JSON-DATE--=', '');\n          obj[key][i] = new Date(parseInt(v));\n        }\n      }\n    }\n  }\n\n  return obj;\n};\n/*\n * @const {Function} fixJSONStringify - Fix issue with Date stringify\n */\n\n\nconst fixJSONStringify = function (obj) {\n  for (let key in obj) {\n    if (helpers.isDate(obj[key])) {\n      obj[key] = \"=--JSON-DATE--=\".concat(+obj[key]);\n    } else if (helpers.isObject(obj[key])) {\n      obj[key] = fixJSONStringify(obj[key]);\n    } else if (helpers.isArray(obj[key])) {\n      let v;\n\n      for (let i = 0; i < obj[key].length; i++) {\n        v = obj[key][i];\n\n        if (helpers.isObject(v)) {\n          obj[key][i] = fixJSONStringify(v);\n        } else if (helpers.isDate(v)) {\n          obj[key][i] = \"=--JSON-DATE--=\".concat(+v);\n        }\n      }\n    }\n  }\n\n  return obj;\n};\n/*\n * @locus Anywhere\n * @private\n * @name formatFleURL\n * @param {Object} fileRef - File reference object\n * @param {String} version - [Optional] Version of file you would like build URL for\n * @param {String} URIBase - [Optional] URI base, see - https://github.com/VeliovGroup/Meteor-Files/issues/626\n * @summary Returns formatted URL for file\n * @returns {String} Downloadable link\n */\n\n\nconst formatFleURL = function (fileRef) {\n  let version = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'original';\n\n  let _URIBase = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : (__meteor_runtime_config__ || {}).ROOT_URL;\n\n  check(fileRef, Object);\n  check(version, String);\n  let URIBase = _URIBase;\n\n  if (!helpers.isString(URIBase)) {\n    URIBase = (__meteor_runtime_config__ || {}).ROOT_URL || '/';\n  }\n\n  const _root = URIBase.replace(/\\/+$/, '');\n\n  const vRef = fileRef.versions && fileRef.versions[version] || fileRef || {};\n  let ext;\n\n  if (helpers.isString(vRef.extension)) {\n    ext = \".\".concat(vRef.extension.replace(/^\\./, ''));\n  } else {\n    ext = '';\n  }\n\n  if (fileRef.public === true) {\n    return _root + (version === 'original' ? \"\".concat(fileRef._downloadRoute, \"/\").concat(fileRef._id).concat(ext) : \"\".concat(fileRef._downloadRoute, \"/\").concat(version, \"-\").concat(fileRef._id).concat(ext));\n  }\n\n  return _root + \"\".concat(fileRef._downloadRoute, \"/\").concat(fileRef._collectionName, \"/\").concat(fileRef._id, \"/\").concat(version, \"/\").concat(fileRef._id).concat(ext);\n};","map":{"version":3,"sources":["packages/ostrio:files/lib.js"],"names":["module","export","fixJSONParse","fixJSONStringify","formatFleURL","helpers","check","link","v","isUndefined","obj","isObject","isArray","isFunction","Object","Array","isBoolean","prototype","toString","call","isEmpty","isDate","keys","length","isString","clone","slice","assign","has","_obj","path","hasOwnProperty","i","omit","clear","now","Date","throttle","func","wait","options","previous","timeout","result","that","self","args","later","leading","apply","throttled","remaining","arguments","clearTimeout","trailing","setTimeout","cancel","_helpers","key","includes","replace","parseInt","fileRef","version","_URIBase","__meteor_runtime_config__","ROOT_URL","String","URIBase","_root","vRef","versions","ext","extension","public","_downloadRoute","_id","_collectionName"],"mappings":"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","sourcesContent":["import { check } from 'meteor/check';\n\nconst helpers = {\n  isUndefined(obj) {\n    return obj === void 0;\n  },\n  isObject(obj) {\n    if (this.isArray(obj) || this.isFunction(obj)) {\n      return false;\n    }\n    return obj === Object(obj);\n  },\n  isArray(obj) {\n    return Array.isArray(obj);\n  },\n  isBoolean(obj) {\n    return obj === true || obj === false || Object.prototype.toString.call(obj) === '[object Boolean]';\n  },\n  isFunction(obj) {\n    return typeof obj === 'function' || false;\n  },\n  isEmpty(obj) {\n    if (this.isDate(obj)) {\n      return false;\n    }\n    if (this.isObject(obj)) {\n      return !Object.keys(obj).length;\n    }\n    if (this.isArray(obj) || this.isString(obj)) {\n      return !obj.length;\n    }\n    return false;\n  },\n  clone(obj) {\n    if (!this.isObject(obj)) return obj;\n    return this.isArray(obj) ? obj.slice() : Object.assign({}, obj);\n  },\n  has(_obj, path) {\n    let obj = _obj;\n    if (!this.isObject(obj)) {\n      return false;\n    }\n    if (!this.isArray(path)) {\n      return this.isObject(obj) && Object.prototype.hasOwnProperty.call(obj, path);\n    }\n\n    const length = path.length;\n    for (let i = 0; i < length; i++) {\n      if (!Object.prototype.hasOwnProperty.call(obj, path[i])) {\n        return false;\n      }\n      obj = obj[path[i]];\n    }\n    return !!length;\n  },\n  omit(obj, ...keys) {\n    const clear = Object.assign({}, obj);\n    for (let i = keys.length - 1; i >= 0; i--) {\n      delete clear[keys[i]];\n    }\n\n    return clear;\n  },\n  now: Date.now,\n  throttle(func, wait, options = {}) {\n    let previous = 0;\n    let timeout = null;\n    let result;\n    const that = this;\n    let self;\n    let args;\n\n    const later = () => {\n      previous = options.leading === false ? 0 : that.now();\n      timeout = null;\n      result = func.apply(self, args);\n      if (!timeout) {\n        self = args = null;\n      }\n    };\n\n    const throttled = function () {\n      const now = that.now();\n      if (!previous && options.leading === false) previous = now;\n      const remaining = wait - (now - previous);\n      self = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = now;\n        result = func.apply(self, args);\n        if (!timeout) {\n          self = args = null;\n        }\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n\n    throttled.cancel = () => {\n      clearTimeout(timeout);\n      previous = 0;\n      timeout = self = args = null;\n    };\n\n    return throttled;\n  }\n};\n\nconst _helpers = ['String', 'Number', 'Date'];\nfor (let i = 0; i < _helpers.length; i++) {\n  helpers['is' + _helpers[i]] = function (obj) {\n    return Object.prototype.toString.call(obj) === '[object ' + _helpers[i] + ']';\n  };\n}\n\n/*\n * @const {Function} fixJSONParse - Fix issue with Date parse\n */\nconst fixJSONParse = function(obj) {\n  for (let key in obj) {\n    if (helpers.isString(obj[key]) && obj[key].includes('=--JSON-DATE--=')) {\n      obj[key] = obj[key].replace('=--JSON-DATE--=', '');\n      obj[key] = new Date(parseInt(obj[key]));\n    } else if (helpers.isObject(obj[key])) {\n      obj[key] = fixJSONParse(obj[key]);\n    } else if (helpers.isArray(obj[key])) {\n      let v;\n      for (let i = 0; i < obj[key].length; i++) {\n        v = obj[key][i];\n        if (helpers.isObject(v)) {\n          obj[key][i] = fixJSONParse(v);\n        } else if (helpers.isString(v) && v.includes('=--JSON-DATE--=')) {\n          v = v.replace('=--JSON-DATE--=', '');\n          obj[key][i] = new Date(parseInt(v));\n        }\n      }\n    }\n  }\n  return obj;\n};\n\n/*\n * @const {Function} fixJSONStringify - Fix issue with Date stringify\n */\nconst fixJSONStringify = function(obj) {\n  for (let key in obj) {\n    if (helpers.isDate(obj[key])) {\n      obj[key] = `=--JSON-DATE--=${+obj[key]}`;\n    } else if (helpers.isObject(obj[key])) {\n      obj[key] = fixJSONStringify(obj[key]);\n    } else if (helpers.isArray(obj[key])) {\n      let v;\n      for (let i = 0; i < obj[key].length; i++) {\n        v = obj[key][i];\n        if (helpers.isObject(v)) {\n          obj[key][i] = fixJSONStringify(v);\n        } else if (helpers.isDate(v)) {\n          obj[key][i] = `=--JSON-DATE--=${+v}`;\n        }\n      }\n    }\n  }\n  return obj;\n};\n\n/*\n * @locus Anywhere\n * @private\n * @name formatFleURL\n * @param {Object} fileRef - File reference object\n * @param {String} version - [Optional] Version of file you would like build URL for\n * @param {String} URIBase - [Optional] URI base, see - https://github.com/VeliovGroup/Meteor-Files/issues/626\n * @summary Returns formatted URL for file\n * @returns {String} Downloadable link\n */\nconst formatFleURL = (fileRef, version = 'original', _URIBase = (__meteor_runtime_config__ || {}).ROOT_URL) => {\n  check(fileRef, Object);\n  check(version, String);\n  let URIBase = _URIBase;\n\n  if (!helpers.isString(URIBase)) {\n    URIBase = (__meteor_runtime_config__ || {}).ROOT_URL || '/';\n  }\n\n  const _root = URIBase.replace(/\\/+$/, '');\n  const vRef = (fileRef.versions && fileRef.versions[version]) || fileRef || {};\n\n  let ext;\n  if (helpers.isString(vRef.extension)) {\n    ext = `.${vRef.extension.replace(/^\\./, '')}`;\n  } else {\n    ext = '';\n  }\n\n  if (fileRef.public === true) {\n    return _root + (version === 'original' ? `${fileRef._downloadRoute}/${fileRef._id}${ext}` : `${fileRef._downloadRoute}/${version}-${fileRef._id}${ext}`);\n  }\n  return _root + `${fileRef._downloadRoute}/${fileRef._collectionName}/${fileRef._id}/${version}/${fileRef._id}${ext}`;\n};\n\nexport { fixJSONParse, fixJSONStringify, formatFleURL, helpers };\n"]},"sourceType":"module","hash":"85ee88a49fc0fe23d015b8c3bf32b97838b43e85"}
